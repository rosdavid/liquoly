{%- liquid
  assign id = section.id
  assign layout = section.settings.layout
  
  assign section_blocks = section.blocks
  assign se_size = section_blocks.size
  
  assign arr_img = section_blocks | where: "type", "img"
  assign open_link = section.settings.open_link
  
-%}

{%- assign ratio = image.aspect_ratio -%}

{%- for i in (1..1) -%}
  
  {%- if section.settings.hidden %}{% break %}{% endif -%}
    <section class="laber_grid_instagram_{{id}}">
    	<div class="container {%if layout == 'full-width' %}{{layout}}{%endif%}">
        {% if section.settings.title != blank or section.settings.sub_title!= blank %}
		<div class="wrap_title ">
          
		  {% if section.settings.sub_title!= blank %}
		  	<span class="section-subtitle">{{section.settings.sub_title}}</span>
		  {% endif %}
          
          {% if section.settings.title != blank %}
		  <h3 class="section-title">{{section.settings.title}}</h3>  
		  {% endif %}
          
          
          {% if section.settings.content!= blank %}
		  <div class="content">{{section.settings.content}}</div>
		  {% endif %}
          
		</div>
        {% endif %}

          <div class="grid_instagram row row-5" >
            {%- case se_size -%}
            
              {%- when 1 -%}
            		{%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/50/a8dacc/fff/1880x820.png?text=500x500',ratio_demo:'100' ,ccol:'col-12 padding-0-5',for_i:1 -%}
              {%- when 2 -%}
            		{%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/50/56cfe1/fff/500x500.png?text=500x500',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:1 -%}
           			{%- render 'instagram-item',block:section_blocks[1], cimg:'https://placehold.jp/50/f99077/fff/500x500.png?text=500x500',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:2 -%}
              {%- when 3 -%}
            	<div class="col-md-6 col-12 padding-0-5">
                  <div class="row row-0">
            		{%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/50/a8dacc/fff/500x245.png?text=500x245',ratio_demo:'49' ,ccol:'col-12 mg-b-10 padding-0',for_i:1 -%}
           			{%- render 'instagram-item',block:section_blocks[1], cimg:'https://placehold.jp/50/56cfe1/fff/500x245.png?text=500x245',ratio_demo:'49' ,ccol:'col-12 mg-b-10 padding-0',for_i:2 -%}
                  </div>
            	</div>
            	{%- render 'instagram-item',block:section_blocks[2], cimg:'https://placehold.jp/50/f99077/fff/500x500.png?text=500x500',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:3 -%}
              {%- when 4 -%}

                {%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/30/a8dacc/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-3 mg-b-10 padding-0-5',for_i:1 -%}
                {%- render 'instagram-item',block:section_blocks[1], cimg:'https://placehold.jp/30/56cfe1/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-3 mg-b-10 padding-0-5',for_i:2 -%}
                {%- render 'instagram-item',block:section_blocks[2], cimg:'https://placehold.jp/30/f99077/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-3 mg-b-10 padding-0-5',for_i:3 -%}
                {%- render 'instagram-item',block:section_blocks[3], cimg:'https://placehold.jp/30/c8b09b/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-3 mg-b-10 padding-0-5',for_i:4 -%}
             
              {%- when 5 -%}
                <div class="col-md-3 col-12 padding-0-5">
                  <div class="row row-0">
                    {%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/30/a8dacc/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:1 -%}
                    {%- render 'instagram-item',block:section_blocks[1], cimg:'https://placehold.jp/30/56cfe1/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:2 -%}
                  </div></div>
                {%- render 'instagram-item',block:section_blocks[2], cimg:'https://placehold.jp/30/f99077/fff/500x500.png?text=500x500',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:3 -%}
                <div class="col-md-3 col-12 padding-0-5">
                  <div class="row row-0">
                    {%- render 'instagram-item',block:section_blocks[3], cimg:'https://placehold.jp/30/c8b09b/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:4 -%}
                    {%- render 'instagram-item',block:section_blocks[4], cimg:'https://placehold.jp/30/c8b09b/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:5 -%}
                  </div></div>
              {%- when 6 -%}
              <div class="col-md-3 col-12 padding-0-5">
                <div class="row row-0">
                  {%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/30/a8dacc/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:1 -%}
                  {%- render 'instagram-item',block:section_blocks[1], cimg:'https://placehold.jp/30/56cfe1/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:2 -%}
                </div></div>
              <div class="col-md-6 col-12 padding-0-5">
                <div class="row row-0">
                  {%- render 'instagram-item',block:section_blocks[2], cimg:'https://placehold.jp/30/f99077/fff/500x245.png?text=500x245',ratio_demo:'49' ,ccol:'col-12 mg-b-10 padding-0',for_i:3 -%}
                  {%- render 'instagram-item',block:section_blocks[3], cimg:'https://placehold.jp/30/a5d0d9/fff/500x245.png?text=500x245',ratio_demo:'49' ,ccol:'col-12 mg-b-10 padding-0',for_i:4 -%}
                </div></div>
              <div class="col-md-3 col-12 padding-0-5">
                <div class="row row-0">
                  {%- render 'instagram-item',block:section_blocks[4], cimg:'https://placehold.jp/30/c8b09b/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:5 -%}
                  {%- render 'instagram-item',block:section_blocks[5], cimg:'https://placehold.jp/30/a1a19f/fff/250x250.png?text=250x250',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:6 -%}
                </div></div>
              {%- when 7 -%}
                  <div class="column-left padding-0-5">
                    <div class="row row-0">
                      {%- render 'instagram-item',block:section_blocks[0], cimg:'https://placehold.jp/30/a8dacc/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:1 -%}
                      {%- render 'instagram-item',block:section_blocks[1], cimg:'https://placehold.jp/30/56cfe1/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:2 -%}
                    </div></div>
                  <div class="column-center padding-0-5">
                    <div class="row row-0">
                      {%- render 'instagram-item',block:section_blocks[2], cimg:'https://placehold.jp/30/f99077/fff/462x462.png?text=462x462',ratio_demo:'100' ,ccol:'col-12 mg-b-10 padding-0',for_i:3 -%}
                      
                    </div></div>
                  <div class="column-right padding-0-5">
                    <div class="row row-5">
                       {%- render 'instagram-item',block:section_blocks[3], cimg:'https://placehold.jp/30/a5d0d9/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:4 -%}
                      {%- render 'instagram-item',block:section_blocks[4], cimg:'https://placehold.jp/30/c8b09b/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:5 -%}
                      {%- render 'instagram-item',block:section_blocks[5], cimg:'https://placehold.jp/30/a1a19f/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:6 -%}
                      {%- render 'instagram-item',block:section_blocks[6], cimg:'https://placehold.jp/30/a8dacc/fff/225x225.png?text=225x225',ratio_demo:'100' ,ccol:'col-6 mg-b-10 padding-0-5',for_i:7 -%}
                    </div></div>	
            {%- endcase -%}
           
            
          </div>
      </div>
    </section>
{%- endfor -%}
{% style%}
	.laber_grid_instagram_{{id}}{
		margin-top:{{section.settings.mg_top}}px ;
		margin-bottom:{{section.settings.mg_bottom}}px;
		padding-top:{{section.settings.pad_top}}px ;
		padding-bottom:{{section.settings.pad_bottom}}px; 
		background-color:{{section.settings.cl_bg}};

		{%if section.settings.bg_image %}
          background-image:url('{{section.settings.bg_image | img_url:"1920x"}}');
          background-size: cover;
          background-position: center center;
		{%endif%}

	}
    @media (max-width: 767px) {
      .laber_grid_instagram_{{id}}{
        margin-top:{{section.settings.mg_top_mobile}}px ;
        margin-bottom:{{section.settings.mg_bottom_mobile}}px;
        padding-top:{{section.settings.pad_top_mobile}}px ;
        padding-bottom:{{section.settings.pad_bottom_mobile}}px;
      }
    }
{% endstyle%}

{%- schema -%}
  {
    "name": "Instagram grid",
    "class": "grid-instagram type_instagram zoom_img",
    "max_blocks": 7,
    "settings": [
      {
        "type": "header",
        "content": "== Design Options"
      },
      {
        "type": "checkbox",
        "id": "hidden",
        "label": "Hidden Section?",
        "default": false
      },      
      {
        "type": "select",
        "id": "layout",
        "default": "full-width",
        "options": [
         {
            "value": "container",
            "label": "Container"
         },
         {
            "value": "full-width",
            "label": "Full Width"
          }
        ],
        "label": "Layout"
      },
              
      {
        "type": "header",
        "content": "== General Settings"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "text",
        "id": "sub_title",
        "label": "Sub Text"
      },
	  {
        "type": "textarea",
        "id": "content",
        "label": "Content",
        "default": "Commodo sociosqu venenatis cras dolor sagittis integer luctus maecenas."
      },
      {
        "type": "select",
        "id": "open_link",
        "options": [
          {
            "value": "_self",
            "label": "Current window (_self)"
          },
         {
            "value": "_blank",
            "label": "New window (_blank)"
          }
        ],
        "label": "Open link in",
        "default": "_self"
      },  
      {
		"type": "image_picker",
		"id": "bg_image",
		"label": "Background image",
		"info": "1920 x 662px .jpg recommended"
      },
	 {
        "type": "color",
        "id": "cl_bg",
        "label": "Background color",
        "default": "#fff"
      },
      {
        "type": "range",
        "id": "mg_top",
        "label": "Margin top",
        "default": 100,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "mg_bottom",
        "label": "Margin bottom",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "pad_top",
        "label": "Padding top",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "pad_bottom",
        "label": "Padding bottom",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "header",
        "content": "== Settings mobile"
      },
      {
        "type": "range",
        "id": "mg_top_mobile",
        "label": "Margin top",
        "default":0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "mg_bottom_mobile",
        "label": "Margin bottom",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "pad_top_mobile",
        "label": "Padding top",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "pad_bottom_mobile",
        "label": "Padding bottom",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px"
      }
      
    ],
    "blocks": [
      {
        "type": "img",
        "name": "== Image Parent",
        "limit": 12,
        "settings": [
          {
            "type": "image_picker","id": "image","label": "Choose image","info": "320 x 320px .jpg recommended"
          },
          {
            "type": "url","id": "url","label": "Link (optional)"
          }
        ]
      }

    ],
    "presets": [
      {
        "name": "Instagram Grid",
        "category": "Social media",
        "blocks": [
          {"type": "img"},
          {"type": "img"},
          {"type": "img"},
          {"type": "img"},
          {"type": "img"},
		  {"type": "img"},
          {"type": "img"}
        ]
      }
    ]
  }
{% endschema %}
